{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Додавання бібліотеки flatpickr\n// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n\n// Додавання бібліотеки iziToast\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('[data-start]');\nconst dayScoreboard = document.querySelector('[data-days]');\nconst hourScoreboard = document.querySelector('[data-hours]');\nconst minuteScoreboard = document.querySelector('[data-minutes]');\nconst secondScoreboard = document.querySelector('[data-seconds]');\n\nlet userSelectedDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] > options.defaultDate) {\n      // Розблокування кнопки Start при обранні валідної дати\n      startBtn.addEventListener('click', startTimer);\n      startBtn.classList.add('is-active-btn');\n    } else {\n      startBtn.removeEventListener('click', startTimer);\n      startBtn.classList.remove('is-active-btn');\n\n      // Ініціаналізація бібліотеки iziToast\n      iziToast.error({\n        position: 'bottomLeft',\n        message: 'Please choose a date in the future',\n      });\n    }\n    userSelectedDate = selectedDates[0];\n  },\n};\n\n// Ініціалізація бібліотеки flatpickr на елементі input\nflatpickr('#datetime-picker', options);\n\n// Функція старту відліку часу\nfunction startTimer(event) {\n  // Блокування кнопки Start при старті відліку часу на таймері\n  startBtn.removeEventListener('click', startTimer);\n  startBtn.classList.remove('is-active-btn');\n  // Блокування елементу input при старті відліку часу на таймері\n  input.disabled = true;\n  const intervalTime = setInterval(convertMs, 1000);\n}\n\n// Функція підрахунку значень\nfunction convertMs() {\n  if (Date.now() < userSelectedDate) {\n    const ms = userSelectedDate - Date.now();\n\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    addLeadingZero(days, hours, minutes, seconds);\n  } else {\n    // Розблокування елементу input по спливу часу на таймері\n    input.disabled = false;\n  }\n}\n\n// Форматування залишку часу до двох знаків\nfunction addLeadingZero(days, hours, minutes, seconds) {\n  dayScoreboard.textContent = String(days).padStart(2, '0');\n  hourScoreboard.textContent = String(hours).padStart(2, '0');\n  minuteScoreboard.textContent = String(minutes).padStart(2, '0');\n  secondScoreboard.textContent = String(seconds).padStart(2, '0');\n}"],"names":["input","startBtn","dayScoreboard","hourScoreboard","minuteScoreboard","secondScoreboard","userSelectedDate","options","selectedDates","startTimer","iziToast","flatpickr","event","convertMs","ms","second","minute","hour","day","days","hours","minutes","seconds","addLeadingZero"],"mappings":"sGAYA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAgB,SAAS,cAAc,aAAa,EACpDC,EAAiB,SAAS,cAAc,cAAc,EACtDC,EAAmB,SAAS,cAAc,gBAAgB,EAC1DC,EAAmB,SAAS,cAAc,gBAAgB,EAEhE,IAAIC,EAAmB,KAEvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAID,EAAQ,aAE7BN,EAAS,iBAAiB,QAASQ,CAAU,EAC7CR,EAAS,UAAU,IAAI,eAAe,IAEtCA,EAAS,oBAAoB,QAASQ,CAAU,EAChDR,EAAS,UAAU,OAAO,eAAe,EAGzCS,EAAS,MAAM,CACb,SAAU,aACV,QAAS,oCACjB,CAAO,GAEHJ,EAAmBE,EAAc,CAAC,CACnC,CACH,EAGAG,EAAU,mBAAoBJ,CAAO,EAGrC,SAASE,EAAWG,EAAO,CAEzBX,EAAS,oBAAoB,QAASQ,CAAU,EAChDR,EAAS,UAAU,OAAO,eAAe,EAEzCD,EAAM,SAAW,GACI,YAAYa,EAAW,GAAI,CAClD,CAGA,SAASA,GAAY,CACnB,GAAI,KAAK,IAAK,EAAGP,EAAkB,CACjC,MAAMQ,EAAKR,EAAmB,KAAK,IAAG,EAGhCS,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAGbE,EAAO,KAAK,MAAML,EAAKI,CAAG,EAE1BE,EAAQ,KAAK,MAAON,EAAKI,EAAOD,CAAI,EAEpCI,EAAU,KAAK,MAAQP,EAAKI,EAAOD,EAAQD,CAAM,EAEjDM,EAAU,KAAK,MAASR,EAAKI,EAAOD,EAAQD,EAAUD,CAAM,EAElEQ,EAAeJ,EAAMC,EAAOC,EAASC,CAAO,CAChD,MAEItB,EAAM,SAAW,EAErB,CAGA,SAASuB,EAAeJ,EAAMC,EAAOC,EAASC,EAAS,CACrDpB,EAAc,YAAc,OAAOiB,CAAI,EAAE,SAAS,EAAG,GAAG,EACxDhB,EAAe,YAAc,OAAOiB,CAAK,EAAE,SAAS,EAAG,GAAG,EAC1DhB,EAAiB,YAAc,OAAOiB,CAAO,EAAE,SAAS,EAAG,GAAG,EAC9DhB,EAAiB,YAAc,OAAOiB,CAAO,EAAE,SAAS,EAAG,GAAG,CAChE"}